<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Building a meshed IoT-solution | IoT Workshop – Particle Mesh</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/assets/css/0.styles.29dd6f97.css" as="style"><link rel="preload" href="/assets/js/app.84ee4854.js" as="script"><link rel="preload" href="/assets/js/9.48cbebae.js" as="script"><link rel="preload" href="/assets/js/2.d4be922b.js" as="script"><link rel="prefetch" href="/assets/js/10.4af3f0f1.js"><link rel="prefetch" href="/assets/js/11.d3895582.js"><link rel="prefetch" href="/assets/js/12.10035fab.js"><link rel="prefetch" href="/assets/js/13.897a14a8.js"><link rel="prefetch" href="/assets/js/3.3e94de84.js"><link rel="prefetch" href="/assets/js/4.d49fead5.js"><link rel="prefetch" href="/assets/js/5.c15c5695.js"><link rel="prefetch" href="/assets/js/6.dad0b06d.js"><link rel="prefetch" href="/assets/js/7.399d6cec.js"><link rel="prefetch" href="/assets/js/8.29220501.js">
    <link rel="stylesheet" href="/assets/css/0.styles.29dd6f97.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">IoT Workshop – Particle Mesh</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.reflektor.dk/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Reflektor
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://particle.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Particle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/nielsclausen/workshop-mesh-thingscon2018" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.reflektor.dk/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Reflektor
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://particle.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Particle
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/nielsclausen/workshop-mesh-thingscon2018" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/workshop/" class="sidebar-link">Introduction</a></li><li><a href="/workshop/prerequisites.html" class="sidebar-link">Preparations</a></li><li><a href="/workshop/box-to-blinky.html" class="sidebar-link">1 – From Box to Blinky</a></li><li><a href="/workshop/grove-kit-distance-display.html" class="sidebar-link">2 – Measuring a distance</a></li><li><a href="/workshop/mesh-messaging.html" class="sidebar-link">3 – Working in the Mesh</a></li><li><a href="/workshop/mesh-distance-display.html" class="active sidebar-link">4 – Putting it all together</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/workshop/mesh-distance-display.html#remote-distance-sensor" class="sidebar-link">Remote distance sensor</a></li><li class="sidebar-sub-header"><a href="/workshop/mesh-distance-display.html#remote-display" class="sidebar-link">Remote display</a></li><li class="sidebar-sub-header"><a href="/workshop/mesh-distance-display.html#more-mesh" class="sidebar-link">More mesh?</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="putting-it-all-togehter"><a href="#putting-it-all-togehter" aria-hidden="true" class="header-anchor">#</a> Putting it all togehter</h1> <div class="sbox-container" data-v-24264f9a><div class="sbox-table" data-v-24264f9a><div class="sbox-row" data-v-24264f9a><div class="sbox-header" data-v-24264f9a>Goal </div> <div class="sbox-content" data-v-24264f9a>Building a minimal mesh solution</div></div> <div class="sbox-row" data-v-24264f9a><div class="sbox-header" data-v-24264f9a> Time </div> <div class="sbox-content" data-v-24264f9a> 25 min </div></div> <div class="sbox-row" data-v-24264f9a><div class="sbox-header" data-v-24264f9a> Tools </div> <div class="sbox-content" data-v-24264f9a><ul data-v-24264f9a><li data-v-24264f9a>Argon</li><li data-v-24264f9a>Grove starter kits for Particle mesh</li><li data-v-24264f9a>A partner, also with an Argon + Grove kit</li></ul></div></div></div></div> <p>In this session, it will all come together. One device is measuring a distance and broadcasting the value, while another is listening for updates and displaying them on a digital display. If you get stuck at any point in the process, you can see the code for the completed lab <a href="http://about:blank" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="partner-up-with-your-neighbour"><a href="#partner-up-with-your-neighbour" aria-hidden="true" class="header-anchor">#</a> Partner up with your neighbour</h3> <p>Also for this session, it is necessary to cooperate in groups of at least two participants. Group members will have to implement different code depending on the role of their device. One group member should implement the <em>remote distance sensor</em> code, the other(s) should implement the <em>remote display</em> code.</p> <div class="tip custom-block"><p class="custom-block-title">Do yo come prepared?</p> <p>It is assumed that you come to this session with all of your group's Argons already on the same mesh network.</p></div> <h2 id="remote-distance-sensor"><a href="#remote-distance-sensor" aria-hidden="true" class="header-anchor">#</a> Remote distance sensor</h2> <p>In a <a href="/workshop/grove-kit-distance-display.html">previous session</a> you wrote code that read the distance from the ultrasonic distance sensor in the Grove sensor kit.</p> <ol><li>Make a new app and copy paste the part of the code that did the reading of the sensor. It should look something like this:</li></ol> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token operator">&lt;</span>insert<span class="token operator">-</span>code<span class="token operator">-</span>here<span class="token operator">&gt;</span>
</code></pre></div><ol start="2"><li>Now take that reading and publish it to the mesh network. The group needs to agree on a name for the event – in the example we will use <code>dist-cm</code>.</li></ol> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token operator">&lt;</span>insert<span class="token operator">-</span>code<span class="token operator">-</span>here<span class="token operator">&gt;</span>
</code></pre></div><ol start="3"><li>Upload this code to the device connected to the distance sensor.</li></ol> <h2 id="remote-display"><a href="#remote-display" aria-hidden="true" class="header-anchor">#</a> Remote display</h2> <ol><li>Make a new app and set up a subscription to the distance sensor broadcast. The group needs to agree on a name for the event – in the example we will use <code>dist-cm</code>.</li></ol> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token operator">&lt;</span>insert<span class="token operator">-</span>code<span class="token operator">-</span>here<span class="token operator">&gt;</span>
</code></pre></div><ol start="2"><li>In a <a href="/workshop/grove-kit-distance-display.html">previous session</a> you wrote code that showed a value on the digital display from the Grove sensor kit. Copy paste the part of the code that did the displaying of the value into the handler function.</li></ol> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token operator">&lt;</span>insert<span class="token operator">-</span>code<span class="token operator">-</span>here<span class="token operator">&gt;</span>
</code></pre></div><ol start="3"><li>Upload this code to the device connected to the distance sensor.</li></ol> <p>Now, every time a distance measurement is broadcasted by the , the display is updated, hooray!!!</p> <p>This concludes the workshop 🎉</p> <div class="tip custom-block"><p class="custom-block-title">Feedback for the workshop</p> <p>If you fill out this <a href="https://goo.gl/forms/jQFWiEgWw7WCjIXM2" target="_blank" rel="noopener noreferrer">5 question survey<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, we may improve this workshop to benefit future <em>workshoppers</em>, or just pad ourselves on the back for doing great. And you may <strong>win a 3D printed case</strong> for the Grove sensor shield (only participants at ThingsCon 2018).</p></div> <h2 id="more-mesh"><a href="#more-mesh" aria-hidden="true" class="header-anchor">#</a> More mesh?</h2> <p>Feel you want more mesh? Try adding features to your IoT mesh solution see these <a href="/workshop/extra.html">hidden hints</a>.</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/workshop/mesh-messaging.html" class="prev">
          3 – Working in the Mesh
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/assets/js/9.48cbebae.js" defer></script><script src="/assets/js/2.d4be922b.js" defer></script><script src="/assets/js/app.84ee4854.js" defer></script>
  </body>
</html>
