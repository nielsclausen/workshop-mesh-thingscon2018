<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Chapter 2: Setting up your first Mesh network | Particle Mesh Workshop</title>
    <meta name="description" content="A hands-on walkthrough of the Particle ecosystem, Particle Mesh and the new Particle Xenon.">
    
    
    <link rel="preload" href="/assets/css/6.styles.8f12b8c8.css" as="style"><link rel="preload" href="/assets/js/app.57923fa3.js" as="script"><link rel="preload" href="/assets/js/2.5a5a0898.js" as="script"><link rel="prefetch" href="/assets/js/0.cbbe1c4a.js"><link rel="prefetch" href="/assets/js/1.37bf8386.js"><link rel="prefetch" href="/assets/js/3.bf571ab4.js"><link rel="prefetch" href="/assets/js/4.6e848da8.js"><link rel="prefetch" href="/assets/js/5.c76431bc.js">
    <link rel="stylesheet" href="/assets/css/6.styles.8f12b8c8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/" class="home-link router-link-active"><!----><span class="site-name">
      Particle Mesh Workshop
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://particle.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Team
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/particle-iot/workshop-mesh-spectra" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Home</a></div><div class="nav-item"><a href="http://particle.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Team
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><a href="https://github.com/particle-iot/workshop-mesh-spectra" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/docs/" class="sidebar-link">About Particle Workshops</a></li><li><a href="/docs/ch1.html" class="sidebar-link">Chapter 1: Claiming your first Mesh device</a></li><li><a href="/docs/ch2.html" class="active sidebar-link">Chapter 2: Setting up your first Mesh network</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/ch2.html#create-a-mesh-network" class="sidebar-link">Create a Mesh Network</a></li><li class="sidebar-sub-header"><a href="/docs/ch2.html#add-your-partibadge-xenon-to-your-mesh-network" class="sidebar-link">Add your PartiBadge Xenon to your Mesh Network</a></li><li class="sidebar-sub-header"><a href="/docs/ch2.html#explore-your-mini-mesh-network" class="sidebar-link">Explore your mini Mesh network</a></li></ul></li><li><a href="/docs/ch3.html" class="sidebar-link">Chapter 3: Working with sensors and the Particle Device Cloud</a></li><li><a href="/docs/extra1.html" class="sidebar-link">Extra: Taking your exploration further</a></li></ul></div><div class="page"><div class="content"><h1 id="chapter-2-setting-up-your-first-mesh-network"><a href="#chapter-2-setting-up-your-first-mesh-network" aria-hidden="true" class="header-anchor">#</a> Chapter 2: Setting up your first Mesh network</h1><table><thead><tr><th><strong>Project Goal</strong></th><th>Create a Mesh network and connect a second Xenon to it</th></tr></thead><tbody><tr><td><strong>What you’ll learn</strong></td><td>How to: create a new Mesh network; add a second device to your Mesh network; communicate through a Mesh gateway to an endpoint device.</td></tr><tr><td><strong>Tools you’ll need</strong></td><td>A Xenon, Ethernet Shield, Ethernet switch access, Xenon connected to a PartiBadge, the Particle Mobile App</td></tr><tr><td><strong>Time needed to complete</strong></td><td>15 minutes</td></tr></tbody></table><p>In the last session, you configured your first Xenon. In this session, we're going to create a mesh network with your Ethernet-connected Xenon as a gateway, and then add a second Xenon (the one in your PartiBadge) to that network.</p><h2 id="create-a-mesh-network"><a href="#create-a-mesh-network" aria-hidden="true" class="header-anchor">#</a> Create a Mesh Network</h2><ol><li>Open the Particle Mobile app. Click on the Xenon device you set-up in the last lab and click &quot;Mesh Network.&quot;</li></ol><p><img src="/assets/img/joinMesh.3fa66829.png" alt></p><ol start="2"><li>The app will scan for existing networks, and provide an option for creating a new network. Click on the &quot;Create new network...&quot; option.</li></ol><p><img src="/assets/img/createNetwork.42e1ea58.png" alt></p><ol start="3"><li>Next, give your network a name. Try to give it a personalized name since there are going to be a lot of networks set-up for this workshop.</li></ol><p><img src="/assets/img/nameNetwork.b87b45cc.png" alt></p><ol start="4"><li>And set a password for your network.</li></ol><p><img src="/assets/img/networkPassword.79b5c562.png" alt></p><ol start="5"><li>Once your network is configured, your Xenon will be updated with the network information and configured as a gateway.</li></ol><img src="/assets/img/networkSuccess.711c56e1.png" class="two-per-line"><img src="/assets/img/configureNetwork.350cf178.png" class="two-per-line"><p>Once your network is created, you're ready to add a second device!</p><h2 id="add-your-partibadge-xenon-to-your-mesh-network"><a href="#add-your-partibadge-xenon-to-your-mesh-network" aria-hidden="true" class="header-anchor">#</a> Add your PartiBadge Xenon to your Mesh Network</h2><p>Your PartiBadge Xenon has already been configured with firmware and added to the Spectra mesh network. In this section, you'll claim your badge Xenon to your account and add it to your personal mesh network.</p><ol><li>Once your network is configured, you'll have the option to add another device. Click &quot;Add Next Mesh Setup&quot; to configure another device.</li></ol><p><img src="/assets/img/addNextDevice.dfe6e4a4.png" alt></p><ol start="2"><li>Hold the SETUP button on your PartiBadge Xenon for 3 seconds until is starts blinking blue, indicating that it has entered listening mode.</li></ol><p><img src="/assets/img/listeningmode.8ea5b5b6.gif" alt></p><ol start="3"><li>Your phone will now scan for networks to join. It might find a few since we're all setting up networks at the same time, but if you gave your network a unique, recognizable name, you should find it in the list. Click your network name to select it once it shows up in the list.</li></ol><p><img src="/assets/img/findNetwork.79a10fb8.png" alt></p><ol start="4"><li>Once you select the network, you'll be asked to make sure your device is in Listening Mode. If you didn't already do so in step 2, put the Xenon in listening mode by holding down the SETUP button.</li></ol><p><img src="/assets/img/addToNetwork.a6d0fcd6.png" alt></p><ol start="5"><li>Now, you'll be asked to scan the data matrix on your second Xenon. Do that now, just as you did with your first device.</li></ol><p><img src="/assets/img/pairDevice.a48ceefb.png" alt></p><ol start="6"><li>Enter the network password you specified in the last section.</li></ol><p>Congratulations! You now have a mesh network of two devices. Let's explore the power of Mesh by controlling your Badge Xenon from the cloud.</p><h2 id="explore-your-mini-mesh-network"><a href="#explore-your-mini-mesh-network" aria-hidden="true" class="header-anchor">#</a> Explore your mini Mesh network</h2><p>In the last lab, you learned how to control a Particle device running the default Tinker firmware using the mobile app. In this section, you'll use the Particle Console to control your PartiBadge using Cloud Functions, which we'll learn more about in the next module.</p><ol><li><p>Open a browser tab and navigate to <a href="https://console.particle.io" target="_blank" rel="noopener noreferrer">console.particle.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Log in with your Particle account, if prompted.</p></li><li><p>Your device dashboard will show all of the Particle devices you own. You should see at least two, one for your gateway/ethernet-connected Xenon and one for your badge Xenon. Click on the badge Xenon.</p></li></ol><p><img src="/assets/img/consoleMain.b226ff52.png" alt></p><ol start="3"><li>Your PartiBadge was pre-loaded with firmware. That firmware includes several cloud functions and variables, which you can see listed on the right side of the overview screen for your device.</li></ol><p><img src="/assets/img/primitives.d2bcbf32.png" alt></p><ol start="4"><li>Let's set the name on your badge so it can be uniquely yours! Find the function named <code>updateFName</code> and enter your first name in the text box.</li></ol><p><img src="/assets/img/updateFName.259eb0f0.png" alt></p><ol start="5"><li>Click <code>Call</code>. If the function call succeeded, a &quot;1&quot; should appear next to the function name.</li></ol><p><img src="/assets/img/callUpdateName.6dc7027a.png" alt></p><ol start="6"><li>Now, enter your last name in the <code>updateLName</code> box and click <code>Call</code>. Optionally, you can enter your Twitter handle in the <code>updateTwttr</code> box.</li></ol><p><img src="/assets/img/updateLName.6fbb897b.png" alt></p><ol start="7"><li>To confirm everything has been set correctly, you can click <code>Get</code> on the Particle variables for <code>wearerFName</code>, <code>wearerLName</code> and <code>wearerTwttr</code>. If the value you get back is the one you entered, you're good to go!</li></ol><p><img src="/assets/img/getVars.a01215d3.png" alt></p><ol start="8"><li>Now let's see your name in lights! Grab your PartiBadge and activate the menu by clicking the joystick or one of the LED buttons. Click the <code>Display</code> menu item, then <code>Name</code>. You should see your name (and Twitter handle, if your set it) scrolling across the screen!</li></ol><p><img src="/assets/img/updateName.ccf4b8fe.gif" alt></p><p>It's important to note that the Xenon in your PartiBadge does not have a WiFi or cellular radio and thus, does not have a connection to the Internet. But Particle Mesh knows that your badge is connected via your gateway, and how to route messages through the gateway to your endpoint device. All you have to do is enter some text and click buttons!</p><p>To underscore that this is the case, let's try accessing your badge when your gateway Xenon is disconnected.</p><ol start="9"><li><p>Unplug the Ethernet cable from your gateway Xenon.</p></li><li><p>Navigate back to the <a href="https://console.particle.io" target="_blank" rel="noopener noreferrer">Particle Console<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and open the dashboard for your device.</p></li><li><p>Try changing your first or last name and clicking &quot;Call.&quot; You should get a timeout message toast at the bottom of the screen. If you try re-displaying your name, it should be unchanged.</p></li></ol><p><img src="/assets/img/callFailed.44e54a61.png" alt></p><ol start="12"><li>Plug an Ethernet cable back into your FeatherWing and repeat the last few steps. Everything should work.</li></ol><p>Congratulations on setting up your first Mesh network and exploring how Mesh devices work together! In our last lab, we'll look at how to explicitly send messages between Mesh devices, as well as using Particle functions, variables and cloud events.</p></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/particle-iot/workshop-mesh-spectra/edit/master/docs/ch2.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/docs/ch1.html" class="prev">
          Chapter 1: Claiming your first Mesh device
        </a></span><span class="next"><a href="/docs/ch3.html">
          Chapter 3: Working with sensors and the Particle Device Cloud
        </a> →
      </span></p></div></div></div></div>
    <script src="/assets/js/2.5a5a0898.js" defer></script><script src="/assets/js/app.57923fa3.js" defer></script>
  </body>
</html>
